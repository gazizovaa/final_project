Â§
    &suh0N  Ã£                  Ã³Ã¤  â€” U d dl mZ d dlZd dlZd dlZd dlZd dlZd dl Z d dlZd dl	Z	d dl
Z
d dlZd dl
mZ d dlmZ d dlmZ d dlmZ d d lmZ d dlmZ d d	lmZ d
d
lmZ d
dlmZ d
d
lmZ d
dlm Z  d
dl!m"Z" d
dl#m$Z$ d
dl%m&Z& d
dl'm(Z( d
dl)m*Z* ddl+m,Z, ddl-m.Z. ddl-m/Z/ ddl-m0Z0 e
j1        rd dl2m3Z3 d dl2m4Z4 d dl2m5Z5 dZ6d,d â€Z7da8d!e9d"<   d-d#â€Z: G d$â€ d%Â¦  Â«        Z;d.d)â€Z< G d*â€ d+Â¦  Â«        Z=dS )/Ã©    )Ãš
annotationsN)Ãš	ExitStack)Ãš BytesIO)Ãšchain)ÃšValue)Ãšbasename)Ãšjoin)Ãš adler32Ã©   )Ãš_log)ÃšNotFound)Ãš
SecurityError)Ãšparse_cookie)Ãšhost_is_trusted)Ãšgen_salt)Ãš	send_file)Ãš Request)ÃšResponseÃ©   )Ãš Console)ÃšDebugFrameSummary)ÃšDebugTraceback)Ãšrender_console_html)Ãš
StartResponse)ÃšWSGIApplication)ÃšWSGIEnvironmentiâ‚¬:	 ÃšpinÃšstrÃšreturnc                Ã³Å’   â€” t          j        | â€º dÂÂ                     ddÂ¦  Â«        Â¦  Â«        Â                     Â¦   Â«         d dâ€¦         S )Nz
 added saltzutf-8Ãš replaceÃ©   )Ãš hashlibÃšsha1ÃšencodeÃš	hexdigest)r   s    ÃºBD:\streamlit_app\venv\Lib\site-packages\werkzeug/debug/__init__.pyÃšhash_pinr(   ,   sC   â‚¬ Ã
Å’<Ëœ3Ã+Ã+Ã+Ã—2Ã’2Â°7Â¸IÃ‘FÃ”FÃ‘
GÃ”
GÃ—
QÃ’
QÃ‘
SÃ”
SÃTWÃUWÃTWÃ”
XÃXÃ³    Ãºstr | bytes | NoneÃš
_machine_idc                 Ã³H   â€” t           Â t           S ddâ€}  | Â¦   Â«         a t           S )Nr   r*   c                  Ã³2  â€” d} dD ]k}	 t          |dÂ¦  Â«        5 }|Â                     Â¦   Â«         Â                     Â¦   Â«         }d d d Â¦  Â«         n
# 1 swxY w Y   n# t          $ r Y Å’^w xY w|r | |z
  }  nÅ’l	 t          ddÂ¦  Â«        5 }| |Â                     Â¦   Â«         Â                     Â¦   Â«         Â                     dÂ¦  Â«        d         z
  } d d d Â¦  Â«         n
# 1 swxY w Y   n# t          $ r Y nw xY w| r| S 	 d dlm} d d	lm }  |g d
Â¢|Â¬
Â¦  Â«        Â                     Â¦   Â«         d          }t          j
        d|Â¦  Â«        } | Â| Â 
                    d
Â¦  Â«        S n# t          t          f$ r Y nw xY wt          j        dk    rÅ¾d d l}	 |Â                     |j        dd |j        |j        z   Â¦  Â«        5 }	|Â                     |	dÂ¦  Â«        \  }
}
|
|j        k    r |
Â                     Â¦   Â«         cd d d Â¦  Â«         S |
cd d d Â¦  Â«         S # 1 swxY w Y   n# t          $ r Y nw xY wd S )Nr)   )z/etc/machine-idz/proc/sys/kernel/random/boot_idÃšrbz/proc/self/cgroupÃ³   /r
   r   )ÃšPIPE)ÃšPopen)Ãšioregz-cÃšIOPlatformExpertDevicez-dÃš2)Ãšstdouts   "serial-number" = <([^>]+)r   Ãšwin32zSOFTWARE\Microsoft\CryptographyÃš
MachineGuid)ÃšopenÃšreadlineÃšstripÃš OSErrorÃš
rpartitionÃš
subprocessr0   r1   Ãš
communicateÃšreÃšsearchÃšgroupÃš
ImportErrorÃšsysÃšplatformÃšwinregÃš OpenKeyÃšHKEY_LOCAL_MACHINEÃšKEY_READÃšKEY_WOW64_64KEYÃšQueryValueExÃšREG_SZr%   )ÃšlinuxÃšfilenameÃšfÃšvaluer0   r1   ÃšdumpÃšmatchrE   ÃšrkÃšguidÃš	guid_types               r'   Ãš	_generatez!get_machine_id.<locals>._generate9   sâ€™  â‚¬ Ã˜Ë†Ã° MÃ° 		Ã° 		Ë†HÃ°
ÃËœ(Â DÃ‘)Ã”)Ã° 1Â¨QÃ˜Å¸JÅ¡Jâ„¢LÅ“LÃ—.Ã’.Ã‘0Ã”0ÂEÃ°1Ã° 1Ã° 1Ã± 1Ã´ 1Ã° 1Ã° 1Ã° 1Ã° 1Ã° 1Ã° 1Ã¸Ã¸Ã¸Ã° 1Ã° 1Ã° 1Ã° 1Ã¸Ã¸Ã¥Ã° 
Ã° 
Ã° 
Ã˜ÂÃ°
Ã¸Ã¸Ã¸Ã° Ã° 
Ã˜Ëœâ€˜ÂÃ˜ÂÃ°
Ã°	ÃÃ)Â¨4Ã‘0Ã”0Ã° 
BÂ°AÃ˜ËœÅ¸Å¡â„¢Å“Ã—+Ã’+Ã‘-Ã”-Ã—8Ã’8Â¸Ã‘>Ã”>Â¸qÃ”AÃ‘AÂÃ°
BÃ° 
BÃ° 
BÃ± 
BÃ´ 
BÃ° 
BÃ° 
BÃ° 
BÃ° 
BÃ° 
BÃ° 
BÃ¸Ã¸Ã¸Ã° 
BÃ° 
BÃ° 
BÃ° 
BÃ¸Ã¸Ã¥Ã° 	Ã° 	Ã° 	Ã˜Ë†DÃ°	Ã¸Ã¸Ã¸Ã° Ã° 	Ã˜Ë†LÃ°	Ã° 
(Ã'Ã'Ã'Ã'Ã'Ã˜(Ã(Ã(Ã(Ã(Ã(Ã Â5Ã˜DÃDÃDÃˆTÃ°Ã± Ã´ Ã§Å kâ€°mÅ’mËœAÃ´Ë†DÃµ â€IÃ;Â¸TÃ‘BÃ”BË†EÃ Ã Ã˜â€”{â€™{Â 1â€˜~â€~Ã%Ã° !Ã¸Ã¥ÂÃ%Ã° 	Ã° 	Ã° 	Ã˜Ë†DÃ°	Ã¸Ã¸Ã¸Ãµ Å’<Ëœ7Ã’
"Ã
"Ã˜Ë†MË†MË†MÃ°
Ã˜â€”^â€™^Ã˜Ã”-Ã˜7Ã˜Ã˜â€OÂ fÃ”&<Ã‘<Ã±	Ã´ Ã° 
 Ã°
 Ã° '-Ã—&9Ã’&9Â¸"Â¸mÃ‘&LÃ”&Lâ€˜OÂDËœ)Ã  Â FÂ¤MÃ’1Ã1Ã˜#Å¸{Å¡{â„¢}Å“}Ã°
 Ã° 
 Ã° 
 Ã° 
 Ã± 
 Ã´ 
 Ã° 
 Ã° 
 Ã°  Ã°
 Ã° 
 Ã° 
 Ã° 
 Ã± 
 Ã´ 
 Ã° 
 Ã° 
 Ã° 
 Ã° 
 Ã° 
 Ã° 
 Ã¸Ã¸Ã¸Ã° 
 Ã° 
 Ã° 
 Ã° 
 Ã° 
 Ã¸Ãµ Ã° 
Ã° 
Ã° 
Ã˜ÂÃ°
Ã¸Ã¸Ã¸Ã° Ë†tsÂ¿   Ë†AËœ'A
Â¿AÃ
A	ÃAÃA	ÃAÃ
A$Ã#A$Ã2C Ã‚ACÃƒC ÃƒC ÃƒC ÃƒC ÃƒC Ãƒ
C*Ãƒ)C*Ãƒ2AE Ã…E&Ã…%E&Ã…>*H  Ã†(8G;Ã‡ H  Ã‡-G;Ã‡.H  Ã‡;G? Ã‡?H  ÃˆG? ÃˆH  Ãˆ 
HÃˆHÂ©r   r*   )r+   )rU   s    r'   Ãšget_machine_idrW   3   s<   â‚¬ Ãµ Ã ÃÃÃ°BÃ° BÃ° BÃ° BÃ°H Â)â€˜+â€+â‚¬KÃ
Ãr)   c                  Ã³"   â€” e Zd ZdZd
dâ€Zdd	â€Zd
S )
Ãš
_ConsoleFramez]Helper class so that we can reuse the frame console code for the
    standalone console.
    Ãš	namespaceÃºdict[str, t.Any]c                Ã³<   â€” t          |Â¦  Â«        | _        d| _        d S )Nr   )r   Ãš consoleÃšid)ÃšselfrZ   s     r'   Ãš__init__z_ConsoleFrame.__init__â€    s   â‚¬ ÃËœyÃ‘)Ã”)Ë†Å’Ã˜Ë†Å’ Ë† Ë† r)   Ãšcoder   r   Ãºt.Anyc                Ã³6   â€” | j         Â                     |Â¦  Â«        S Â©N)r]   Ãševal)r_   ra   s     r'   re   z_ConsoleFrame.evalÅ    s   â‚¬ Ã˜Å’|Ã— Ã’ Â Ã‘&Ã”&Ã&r)   N)rZ   r[   )ra   r   r   rb   )Ãš__name__Ãš
__module__Ãš__qualname__Ãš __doc__r`   re   Â© r)   r'   rY   rY   Â   sF   â‚¬ â‚¬ â‚¬ â‚¬ â‚¬ Ã°Ã° Ã°Ã° Ã° Ã° Ã°'Ã° 'Ã° 'Ã° 'Ã° 'Ã° 'r)   rY   Ãšappr   Ãº#tuple[str, str] | tuple[None, None]c           
     Ã³  â€¡
â€¡â€” t           j        Â                     dÂ¦  Â«        }d}dÅ |dk    rdS |Â1|Â                     ddÂ¦  Â«        Â                     Â¦   Â«         r	d|v r|}n|Å t
          | d t
          j         t          | Â¦  Â«        j	        j
        Â¦  Â«        }	 t          j        Â¦   Â«         }n# t          t          t          f$ r d}Y nw xY wt           j        Â                     |Â¦  Â«        }||t
          | dt%          | Â¦  Â«        j        Â¦  Â«        t
          |d	dÂ¦  Â«        g}t)          t+          j        Â¦   Â«         Â¦  Â«        t/          Â¦   Â«         g} t1          j        Â¦   Â«         }t5          || Â¦  Â«        D ]C}	|	sÅ’t7          |	t(          Â¦  Â«        r|	Â                     Â¦   Â«         }	|Â                     |	Â¦  Â«         Å’D|Â                     d
Â¦  Â«         d
|Â                     Â¦   Â«         ddâ€¦         â€º Â}
â€°â‚¬A|Â                     d
Â¦  Â«         t?          |Â                     Â¦   Â«         dÂ¦  Â«        dâ€ºddâ€¦         Å |â‚¬]dD ]XÅ 
tA          â€°Â¦  Â«        â€°
z  dk    r@dÂ !                    Ë†
Ë†fdâ€tE          dtA          â€°Â¦  Â«        â€°
Â¦  Â«        D Â¦   Â«         Â¦  Â«        } nÅ’Yâ€°}||
fS )aQ  Given an application object this returns a semi-stable 9 digit pin
    code and a random key.  The hope is that this is stable between
    restarts to not make debugging particularly frustrating.  If the pin
    was forcefully disabled this returns `None`.

    Second item in the resulting tuple is the cookie name for remembering.
    ÃšWERKZEUG_DEBUG_PINNÃšoff)NNÃº-Ãš rg   rf   Ãš__file__s
   cookiesaltÃš__wzdÃ©   s    pinsaltÃ©   Ãš09dÃ©	   )Ã©   Ã©   Ã©   r   c              3  Ã³Z   â€¢K  â€” | ]%}â€°||â€°z   â€¦         Â                      â€°d Â¦  Â«        V â€” Å’&dS )Ãš0N)Ãšrjust)Ãš.0ÃšxÃš
group_sizeÃšnums     â‚¬â‚¬r'   Ãº	<genexpr>z*get_pin_and_cookie_name.<locals>.<genexpr>Ãš   sU   Ã¸Ã¨ Ã¨ â‚¬ Ã° Ã° Ã Ã° ËœËœAÂ 
â„¢NÃ*Ã”+Ã—1Ã’1Â°*Â¸cÃ‘BÃ”BÃ°Ã° Ã° Ã° Ã° Ã° r)   )#ÃšosÃš environÃšgetr!   Ãš	isdecimalÃš getattrÃštÃšcastÃšobjectÃš	__class__rg   Ãš getpassÃš getuserrB   ÃšKeyErrorr;   rC   Ãš modulesÃštyperf   r   ÃšuuidÃš getnoderW   r#   r$   r   Ãš
isinstancer%   Ãšupdater&   ÃšintÃšlenr	   Ãšrange)
rk   r   ÃšrvÃš modnameÃšusernameÃšmodÃšprobably_public_bitsÃšprivate_bitsÃšhÃšbitÃš
cookie_namerâ‚¬   rÂ   s
              @@r'   Ãšget_pin_and_cookie_namerÂ¡   Å½   sÂ¦  Ã¸Ã¸â‚¬ Ãµ 

Å’*Â.Å .Ã-Ã‘
.Ã”
.â‚¬CÃ˜	
â‚¬BÃ˜
â‚¬CÃ° 
Ë†eâ€š|â‚¬|Ã˜Ë†zÃ° 
â‚¬Ëœ3Å¸;Å¡;Â sÂ¨BÃ‘/Ã”/Ã—9Ã’9Ã‘;Ã”;â‚¬Ã 
Â#Ë†:Ë†:Ã˜Ë†BË†BÃ Ë†CÃ¥ÂcËœ<Â­Â¬ÂµÂ¸Ã‘)<Ã”)<Ã”)FÃ”)QÃ‘RÃ”Râ‚¬GÃ° Ãµ â€?Ã‘$Ã”$Ë†Ë†Ã¸Ã¥ÂÂ¥7Ã
+Ã° Ã° Ã° Ã˜Ë†Ë†Ë†Ã°Ã¸Ã¸Ã¸Ãµ 
Å’+Â/Å /Ëœ'Ã‘
"Ã”
"â‚¬CÃ°
 	Ã˜ÃÂÂZÂ¥Â cÂ¡Â¤Ã”!3Ã‘4Ã”4ÃÂÂZÂ Ã‘&Ã”&Ã°	ÃÃµ ÂÅ“â„¢Å“Ã‘'Ã”'Â­Ã‘)9Ã”)9Ã:â‚¬LÃ¥Å’â€°Å’â‚¬AÃÃ)Â¨<Ã‘8Ã”8Ã° Ã° Ë†Ã˜Ã° 	Ã˜Ã
ÂcÂ3Ã‘
Ã”
Ã° 	Ã˜â€”*â€™*â€˜,â€,Ë†CÃ˜	ÂÅ Ââ€°
Å’
Ë†
Ë†
Ã˜â€¡Hâ€šHË†]Ã‘Ã”ÃÃ .Ëœ!Å¸+Å¡+â„¢-Å“-Â¨Â¨Â¨Ã”,Ã.Ã.â‚¬KÃ° 
â‚¬{Ã˜	ÂÅ ÂÃ‘Ã”ÃÃÂQâ€”[â€™[â€˜]â€]Â BÃ‘'Ã”'Ã-Ã-Â¨bÂ¨qÂ¨bÃ”1Ë†Ã° 
â‚¬zÃ˜!Ã° 	Ã° 	Ë†JÃÂ3â€°xÅ’xËœ*Ã‘$Â¨Ã’)Ã)Ã˜â€”Xâ€™XÃ° Ã° Ã° Ã° Ã° Ã¥"Â 1Â¥cÂ¨#Â¡hÂ¤hÂ°
Ã‘;Ã”;Ã°Ã± Ã´ Ã± Ã´ ÂÃ° ÂÃ°
 *Ã° Ë†BÃ 

Ë†{Ë†?Ãs   Ã‚B) Ã‚)CÃƒCc                  Ã³Ã¢   â€” e Zd ZU dZded<   ded<   	 	 	 	 	 	 	 d5d6dâ€Zed7dâ€Â¦   Â«         Z e j        d8dâ€Â¦   Â«         Z ed9dâ€Â¦   Â«         Z	d:d"â€Z
d;d)â€Z
d<d*â€Zd=d,â€Z
d>d.â€Zd?d/â€Zd@d0â€Zd<d1â€Zd<d2â€ZdAd4â€ZdS )BÃšDebuggedApplicationa4   Enables debugging support for a given application::

        from werkzeug.debug import DebuggedApplication
        from myapp import app
        app = DebuggedApplication(app, evalex=True)

    The ``evalex`` argument allows evaluating expressions in any frame
    of a traceback. This works by preserving each frame with its local
    state. Some state, such as context globals, cannot be restored with
    the frame by default. When ``evalex`` is enabled,
    ``environ["werkzeug.debug.preserve_context"]`` will be a callable
    that takes a context manager, and can be called multiple times.
    Each context manager will be entered before evaluating code in the
    frame, then exited again, so they can perform setup and cleanup for
    each call.

    :param app: the WSGI application to run debugged.
    :param evalex: enable exception evaluation feature (interactive
                   debugging).  This requires a non-forking server.
    :param request_key: The key that points to the request object in this
                        environment.  This parameter is ignored in current
                        versions.
    :param console_path: the URL for a general purpose console.
    :param console_init_func: the function that is executed before starting
                              the general purpose console.  The return value
                              is used as initial namespace.
    :param show_hidden_frames: by default hidden traceback frames are skipped.
                               You can show them by setting this parameter
                               to `True`.
    :param pin_security: can be used to disable the pin based security system.
    :param pin_logging: enables the logging of the pin system.

    .. versionchanged:: 2.2
        Added the ``werkzeug.debug.preserve_context`` environ key.
    r   Ãš_pinÃš
_pin_cookieFÃºwerkzeug.requestÃº/consoleNTrk   r   ÃševalexÃšboolÃš
request_keyÃšconsole_pathÃšconsole_init_funcÃº't.Callable[[], dict[str, t.Any]] | NoneÃšshow_hidden_framesÃšpin_securityÃš
pin_loggingr   ÃšNonec	                Ã³Ãˆ  â€” |sd }|| _         || _        i | _        i | _        || _        || _        || _        || _         t          dÂ¦  Â«        | _	        t          dÂ¦  Â«        | _
        || _        | rdt          j        Â                     dÂ¦  Â«        dk    r@|r>t!          ddÂ¦  Â«         | j        â‚¬t!          dd Â¦  Â«         nt!          dd	| j        Â¦  Â«         n d | _        d
d
g| _        d S )Nrt   ÃšBÃšWERKZEUG_RUN_MAINÃštrueÃš warningz * Debugger is active!z- * Debugger PIN disabled. DEBUGGER UNSECURED!Ãšinfoz * Debugger PIN: %sz
.localhostz	127.0.0.1)rk   rÂ¨   ÃšframesÃšframe_contextsrÂª   rÂ«   rÂ¬   rÂ®   r   Ãšsecretr    Ãš_failed_pin_authrÂ°   rÆ’   râ€   râ€¦   r   r   Ãš
trusted_hosts)	r_   rk   rÂ¨   rÂª   rÂ«   rÂ¬   rÂ®   rÂ¯   rÂ°   s	            r'   r`   zDebuggedApplication.__init__
  sÃº   â‚¬ Ã° !Ã° 	%Ã˜ $ÃÃ˜Ë†Å’Ã˜Ë†Å’
Ã˜DFË†Å’
Ã˜GIË†Ã”Ã˜&Ë†Ã”Ã˜(Ë†Ã”Ã˜!2Ë†Ã”Ã˜"4Ë†Ã”ÃËœrâ€˜lâ€lË†Å’
Ã %Â cÂ¡
Â¤
Ë†Ã”Ã &Ë†Ã”Ã˜
Ã° 		Ã¥Å’zÂ~Å ~Ã1Ã‘2Ã”2Â°fÃ’<Ã<Ã€Ã<ÃÂYÃ 8Ã‘9Ã”9Ã9Ã˜â€8Ã#ÃËœÃ$SÃ‘TÃ”TÃTÃTÃ¥ËœÃ!6Â¸Â¼Ã‘AÃ”AÃAÃ¸Ã Ë†DÅ’HÃ )5Â°{Ã(CË†Ã”Ã°	Ã° 	r)   Ãº
str | Nonec                Ã³v   â€” t          | dÂ¦  Â«        s#t          | j        Â¦  Â«        }|\  | _        | _        | j        S )NrÂ¤   Â©Ãš hasattrrÂ¡   rk   rÂ¤   rÂ¥   Â©r_   Ãš
pin_cookies     r'   r   zDebuggedApplication.pin9  s:   â‚¬ Ã¥ÂtËœVÃ‘$Ã”$Ã° 	5Ã0Â°Â´Ã‘:Ã”:Ë†JÃ˜*4Ã‘'Ë†DÅ’IÂtÃ”'Ã˜Å’yÃr)   rO   c                Ã³   â€” || _         d S rd   )rÂ¤   )r_   rO   s     r'   r   zDebuggedApplication.pin@  s
   â‚¬ Ã Ë†Å’	Ë†	Ë†	r)   c                Ã³v   â€” t          | dÂ¦  Â«        s#t          | j        Â¦  Â«        }|\  | _        | _        | j        S )zThe name of the pin cookie.rÂ¥   rÂ¿   rÃ   s     r'   Ãšpin_cookie_namez#DebuggedApplication.pin_cookie_nameD  s=   â‚¬ Ãµ ÂtËœ]Ã‘+Ã”+Ã° 	5Ã0Â°Â´Ã‘:Ã”:Ë†JÃ˜*4Ã‘'Ë†DÅ’IÂtÃ”'Ã˜Ã”Ãr)   râ€   r   Ãšstart_responser   Ãºt.Iterator[bytes]c               #  Ã³Â¬  K  â€” g }| j         r
|j        |d<   d}	 | Â                     ||Â¦  Â«        }|E d{V â€”â€  t           |dÂ¦  Â«        r|Â                     Â¦   Â«          dS dS # t
          $ Âri}t           |dÂ¦  Â«        r|Â                     Â¦   Â«          t
          |d| j          Â¬Â¦  Â«        }|j        D ]0} | | j	        t          | Â¦  Â«        <   || j
        t          | Â¦  Â«        <   Å’1t          | Â 
                    |Â¦  Â«        Â¦  Â«        }|Â                     | j         o| Â                     |Â¦  Â«        | j        |Â¬Â¦  Â«        }	t#          |	d dÂ¬	Â¦  Â«        }
	  |
||Â¦  Â«        E d{V â€”â€  n+# t
          $ r |d
         Â                     d
Â¦  Â«         Y nw xY w|d
         Â                     dÂ                     |Â                     Â¦   Â«         Â¦  Â«        Â¦  Â«         Y d}~dS d}~ww xY w)
z6Run the application and conserve the traceback frames.zwerkzeug.debug.preserve_contextNÃšcloser   )ÃšskipÃšhide)rÂ¨   rÂº   Ãševalex_trustediÃ´  Ãº	text/html)ÃšstatusÃšmimetypez
wsgi.errorszpDebugging middleware caught exception in streamed response at a point where response headers were already sent.
rq   )rÂ¨   Ãšappendrk   rÃ€   rÃ‰   Ãš	Exceptionr   rÂ®   Ãš
all_framesrÂ¸   r^   rÂ¹   rÂ©   Ãšcheck_pin_trustÃšrender_debugger_htmlÃšcheck_host_trustrÂº   r   Ãšwriter	   Ãšrender_traceback_text)
r_   râ€   rÃ†   ÃšcontextsÃšapp_iterÃšeÃštbÃšframeÃš
is_trustedÃšhtmlÃšresponses
              r'   Ãšdebug_applicationz%DebuggedApplication.debug_applicationL  sJ  Ã¨ Ã¨ â‚¬ Ã° 35Ë†Ã 
Å’;Ã° 	IÃ˜9AÂ¼Ë†GÃ5Ã‘6Ã Ë†Ã°$	NÃ˜â€”xâ€™xÂ  Â¨Ã‘8Ã”8Ë†HÃ˜ÃÃÃÃÃÃÃÃÂxÂ Ã‘)Ã”)Ã° 
!Ã˜â€”â€™Ã‘ Ã” Ã Ã Ã Ã°
!Ã° 
!Ã¸Ã¥Ã° 	NÃ± 	NÃ° 	NÃÂxÂ Ã‘)Ã”)Ã° 
!Ã˜â€”â€™Ã‘ Ã” Ã Ã¥Â Â¨Â°DÃ”4KÃ0KÃLÃ‘LÃ”LË†BÃ Å“Ã° 
:Ã° 
:ÂÃ˜).Ââ€
ÂBËœuâ„¢IÅ“IÃ‘&Ã˜19ÂÃ”#Â¥BÂ uÂ¡IÂ¤IÃ‘.Ã.Ã¥ËœdÃ—2Ã’2Â°7Ã‘;Ã”;Ã‘<Ã”<Ë†JÃ˜Ã—*Ã’*Ã˜â€{ÃEÂ tÃ—'<Ã’'<Â¸WÃ‘'EÃ”'EÃ˜â€{Ã˜)Ã°  +Ã± Ã´ Ë†DÃµ
  Â Â¨SÂ¸;ÃGÃ‘GÃ”GË†HÃ°

Ã˜#Ëœ8Â GÂ¨^Ã‘<Ã”<Ã<Ã<Ã<Ã<Ã<Ã<Ã<Ã<Ã¸ÃÃ° 	
Ã° 	
Ã° 	
Ã°
 Ëœ
Ã”&Ã—,Ã’,Ã°Ã±Ã´ Ã° Ã° Ã° Ã°
	
Ã¸Ã¸Ã¸Ã° 
ÂMÃ”"Ã—(Ã’(Â¨Â¯ÂªÂ°Ã—1IÃ’1IÃ‘1KÃ”1KÃ‘)LÃ”)LÃ‘MÃ”MÃMÃMÃMÃMÃMÃMÃMÃ¸Ã¸Ã¸Ã¸Ã°?	NÃ¸Ã¸Ã¸s>   â„¢AA Ã
GÃ*CGÃ…
EÃ…GÃ…%FÃ†GÃ†FÃ†AGÃ‡GÃš requestr   Ãš commandrÃœ   Ãº!DebugFrameSummary | _ConsoleFramer   c                Ã³n  â€” | Â                      |j        Â¦  Â«        st          Â¦   Â«         S | j        Â                     t
          |Â¦  Â«        g Â¦  Â«        }t
          Â¦   Â«         5 }|D ]}|Â                      |Â¦  Â«         Å’t          |Â 	                    |Â¦  Â«        dÂ¬Â¦  Â«        cdddÂ¦  Â«         S # 1 swxY w Y   dS )zExecute a command in a console.rÃ   Â©rÃ   N)
rÃ•   râ€   r   rÂ¹   râ€¦   r^   r   Ãš
enter_contextr   re   ) r_   rÃ¡   rÃ¢   rÃœ   rÃ˜   Ãš
exit_stackÃšcms           r'   Ãšexecute_commandz#DebuggedApplication.execute_command|  s  â‚¬ Ã° Ã—$Ã’$Â WÂ¤_Ã‘5Ã”5Ã° 	#Ã â€˜?â€?Ã"Ã Ã”&Ã—*Ã’*Â­2Â¨eÂ©9Â¬9Â°bÃ‘9Ã”9Ë†Ã¥
â€°[Å’[Ã° 	GËœJÃ˜Ã° 
-Ã° 
-ÂÃ˜Ã—(Ã’(Â¨Ã‘,Ã”,Ã,Ã,Ã¥ËœEÅ¸JÅ¡JÂ wÃ‘/Ã”/Â¸+ÃFÃ‘FÃ”FÃ°		GÃ° 	GÃ° 	GÃ° 	GÃ± 	GÃ´ 	GÃ° 	GÃ° 	GÃ° 	GÃ° 	GÃ° 	GÃ° 	GÃ¸Ã¸Ã¸Ã° 	GÃ° 	GÃ° 	GÃ° 	GÃ° 	GÃ° 	Gs   Ã>B*Ã‚*B. Ã‚1B. c                Ã³Â¶  â€” | Â                      |j        Â¦  Â«        st          Â¦   Â«         S d| j        vr]| j        â‚¬i }n!t
          | Â                     Â¦   Â«         Â¦  Â«        }|Â                     d| j         Â¦  Â«         t          |Â¦  Â«        | j        d<   t          | Â 
                    |j        Â¦  Â«        Â¦  Â«        }t          t          | j
        |Â¬Â¦  Â«        dÂ¬Â¦  Â«        S ) zDisplay a standalone shell.r   Nrk   )rÂº   rÃŒ   rÃ   rÃ¥   )rÃ•   râ€   r   rÂ¸   rÂ¬   ÃšdictÃš
setdefaultrk   rY   rÂ©   rÃ“   r   r   rÂº   )r_   rÃ¡   ÃšnsrÃ   s       r'   Ãšdisplay_consolez#DebuggedApplication.display_consoleÅ½  sÃŒ   â‚¬ Ã Ã—$Ã’$Â WÂ¤_Ã‘5Ã”5Ã° 	#Ã â€˜?â€?Ã"Ã 
ÂDâ€KÃ
Ã
Ã˜Ã”%Ã-Ã˜ÂÂÃ¥Ëœ$Ã—0Ã’0Ã‘2Ã”2Ã‘3Ã”3ÂÃ˜ÂMÅ MËœ%Â Â¤Ã‘*Ã”*Ã*Ã*Â¨2Ã‘.Ã”.Ë†DÅ’KËœâ€°NÃËœ$Ã—.Ã’.Â¨wÂ¬Ã‘?Ã”?Ã‘@Ã”@Ë†
ÃÃÂ tÂ¤{Ã€:ÃNÃ‘NÃ”NÃ˜ Ã°
Ã± 
Ã´ 
Ã° 	
r)   rM   c                Ã³V  â€” t          dt          |Â¦  Â«        Â¦  Â«        }	 t          j        t          |Â¦  Â«        }|â‚¬t
          Â¦   Â«         S t
          t          |Â¦  Â«        dz  Â¦  Â«        }t          t          |Â¦  Â«        |j
        ||Â¬Â¦  Â«        S # t          $ r t
          Â¦   Â«         cY S w xY w)z0Return a static resource from the shared folder.ÃšsharedNl   Ã¿Ã¿ )Ãš
download_nameÃšetag)r	   r   Ãš pkgutilÃšget_dataÃš
__package__r
   r   r
   r   r   râ€   r;   )r_   rÃ¡   rM   ÃšpathÃšdatarÃ²   s         r'   Ãšget_resourcez DebuggedApplication.get_resourceÂ   sÂ®   â‚¬ Ã¥ÂHÂhÂ xÃ‘0Ã”0Ã‘1Ã”1Ë†Ã°
	ÃÃ”#Â¥KÂ°Ã‘6Ã”6Ë†DÃ° Ë†|Ãâ€˜zâ€zÃ!Ã¥â€¢wËœtâ€˜}â€}Â zÃ‘1Ã‘2Ã”2Ë†DÃÃËœâ€˜
â€
ËœwÅ“Â¸hÃˆTÃ°Ã± Ã´ Ã° 
Ã¸Ãµ Ã° 	Ã° 	Ã° 	Ãâ€˜:â€:ÃÃÃÃ°	Ã¸Ã¸Ã¸s   Å¸B
 Ã‚
B(Ã‚'B(Ãº
bool | Nonec                Ã³Z  â€” | j         â‚¬dS t          |Â¦  Â«        Â                     | j        Â¦  Â«        }|rd|vrdS |Â                     ddÂ¦  Â«        \  }}	 t
          |Â¦  Â«        }n# t          $ r Y dS w xY w|t          | j         Â¦  Â«        k    rdS t          j        Â¦   Â«         t          z
  |k     S )a!  Checks if the request passed the pin test.  This returns `True` if the
        request is trusted on a pin/cookie basis and returns `False` if not.
        Additionally if the cookie's stored pin hash is wrong it will return
        `None` so that appropriate action can be taken.
        NTÃº|Fr   )
r   r   râ€¦   rÃ…   Ãšsplitrâ€¢   Ãš
ValueErrorr(   ÃštimeÃšPIN_TIME)r_   râ€   ÃšvalÃšts_strÃšpin_hashÃštss         r'   rÃ“   z#DebuggedApplication.check_pin_trustÂ±  sÃ‚   â‚¬ Ã° Å’8Ã
Ã˜Â4ÃËœ7Ã‘#Ã”#Ã—'Ã’'Â¨Ã”(<Ã‘=Ã”=Ë†Ã˜Ã° 	ÂcÂ ÂnÂnÃ˜Â5Ã˜Å¸9Å¡9Â SÂ¨!Ã‘,Ã”,Ã‘Ë†ÂÃ°	ÃÂVâ€˜â€Ë†BË†BÃ¸ÃÃ° 	Ã° 	Ã° 	Ã˜Â5Â5Ã°	Ã¸Ã¸Ã¸Ã° â€¢xÂ Â¤Ã‘)Ã”)Ã’
)Ã
)Ã˜Â4Ãâ€	â€˜
â€
ÂhÃ‘&Â¨"Ã’,Ã,s   ÃA# Ã#
A1Ã0A1c                Ã³R   â€” t          |Â                     dÂ¦  Â«        | j        Â¦  Â«        S )NÃš	HTTP_HOST)r   râ€¦   rÂ¼   )r_   râ€   s     r'   rÃ•   z$DebuggedApplication.check_host_trustÃ‡  s!   â‚¬ ÃËœwÅ¸{Å¡{Â¨;Ã‘7Ã”7Â¸Ã”9KÃ‘LÃ”LÃLr)   c                Ã³Ã–   â€” | j         Â                     Â¦   Â«         5  | j         j        }|dz   | j         _        d d d Â¦  Â«         n
# 1 swxY w Y   t           j        |dk    rdndÂ¦  Â«         d S )Nr   rx   g      @g      Ã ?)rÂ»   Ãšget_lockrO   rÃ¾   Ãšsleep)r_   Ãšcounts     r'   Ãš_fail_pin_authz"DebuggedApplication._fail_pin_authÃŠ  sÂª   â‚¬ Ã˜
Ã”
"Ã—
+Ã’
+Ã‘
-Ã”
-Ã° 	4Ã° 	4Ã˜Ã”)Ã”/Ë†EÃ˜*/Â°!Â©)Ë†DÃ”!Ã”'Ã°	4Ã° 	4Ã° 	4Ã± 	4Ã´ 	4Ã° 	4Ã° 	4Ã° 	4Ã° 	4Ã° 	4Ã° 	4Ã¸Ã¸Ã¸Ã° 	4Ã° 	4Ã° 	4Ã° 	4Ãµ 	
Å’
Ëœ%Â !Å¡)Ëœ)Â3Â3Â¨Ã‘-Ã”-Ã-Ã-Ã-s   Å¡AÃA Ã	A c                Ã³H  â€” | Â                      |j        Â¦  Â«        st          Â¦   Â«         S d}d}| Â                     |j        Â¦  Â«        }t	          j        t          | j         Â¦  Â«        }d}|â‚¬| Â                     Â¦   Â«          d}nË†|rd}nÆ’| j	        j
        dk    rd}np|j
        d         } | Â                     Â¦   Â«         Â 
                    dd Â¦  Â«        |Â 
                    dd Â¦  Â«        k    rd| j	        _
        d}n| Â                     Â¦   Â«          t          t          j        ||d	Å“Â¦  Â«        d
Â¬
Â¦  Â«        }|rU|Â                     | j        t'          t)          j        Â¦   Â«         Â¦  Â«        â€º dt+          |Â¦  Â«        â€º Âdd
|j        Â¬Â¦  Â«         n|r|Â                     | j        Â¦  Â«         |S )zAuthenticates with the pin.FNTÃ©
   r   rp   rq   r   )ÃšauthÃš	exhaustedzapplication/jsonrÃ¥   rÃ»   ÃšStrict)ÃšhttponlyÃšsamesiteÃšsecure)rÃ•   râ€   r   rÃ“   rË†   râ€°   r   r   r
  rÂ»   rO   Ãšargsr:   r!   r   ÃšjsonÃšdumpsÃš
set_cookierÃ…   râ€¢   rÃ¾   r(   Ãš	is_secureÃš
delete_cookie)	r_   rÃ¡   r  r
  Ãštrustr   Ãš
bad_cookieÃš
entered_pinrËœ   s	            r'   Ãšpin_authzDebuggedApplication.pin_authÃ‘  sÃ€  â‚¬ Ã Ã—$Ã’$Â WÂ¤_Ã‘5Ã”5Ã° 	#Ã â€˜?â€?Ã"Ã Ë†	Ã˜Ë†Ã˜Ã—$Ã’$Â WÂ¤_Ã‘5Ã”5Ë†ÃÅ’fâ€¢SËœ$Å“(Ã‘#Ã”#Ë†Ã° Ë†
Ã˜
Ë†=Ã˜Ã—Ã’Ã‘!Ã”!Ã!Ã˜Ë†JË†JÃ° Ã° 	&Ã˜Ë†DË†DÃ° Ã”
"Ã”
(Â¨2Ã’
-Ã
-Ã˜Ë†IË†IÃ° "Å“,Â uÃ”-Ë†KÃ Ã— Ã’ Ã‘"Ã”"Ã—*Ã’*Â¨3Â°Ã‘3Ã”3Â°sÂ·{Â²{Ã€3ÃˆÃ‘7KÃ”7KÃ’KÃKÃ˜./ÂÃ”%Ã”+Ã˜ÂÂÃ Ã—#Ã’#Ã‘%Ã”%Ã%Ã¥
ÃÅ’JÂ Â°9Ã=Ã=Ã‘>Ã”>Ã˜'Ã°
Ã± 
Ã´ 
Ë†Ã° Ã° 		3Ã˜ÂMÅ MÃ˜Ã”$Ãâ€¢tâ€yâ€˜{â€{Ã‘#Ã”#Ã5Ã5Â¥hÂ¨sÂ¡mÂ¤mÃ5Ã5Ã˜Ã˜!Ã˜Ã”(Ã°
 
Ã± 
Ã´ 
Ã° 
Ã° 
Ã° Ã° 	3Ã˜Ã—Ã’ËœTÃ”1Ã‘2Ã”2Ã2Ã˜Ë†	r)   c                Ã³Ã˜   â€” | Â                      |j        Â¦  Â«        st          Â¦   Â«         S | j        r-| j        Â&t
          ddÂ¦  Â«         t
          dd| j        Â¦  Â«         t
          dÂ¦  Â«        S )zLog the pin if needed.NrÂ·   z= * To enable the debugger you need to enter the security pin:z * Debugger pin code: %srq   ) rÃ•   râ€   r   rÂ°   r   r   r   )r_   rÃ¡   s     r'   Ãšlog_pin_requestz#DebuggedApplication.log_pin_request   sq   â‚¬ Ã Ã—$Ã’$Â WÂ¤_Ã‘5Ã”5Ã° 	#Ã â€˜?â€?Ã"Ã 
Ã”
Ã° 	?Â Â¤Ã 4ÃÃ˜ÃWÃ±
Ã´ 
Ã° 
Ãµ 
ÂÃ3Â°TÂ´XÃ‘>Ã”>Ã>ÃËœâ€°|Å’|Ãr)   Ãºt.Iterable[bytes]c                Ã³X  â€” t          |Â¦  Â«        }| j        }|j        Â                     dÂ¦  Â«        dk    Âr7|j        Â                     dÂ¦  Â«        }|j        Â                     dÂ¦  Â«        }|j        Â                     dÂ¦  Â«        } | j        Â                     |j        Â                     dt
          Â¬ Â¦  Â«        Â¦  Â«        }|dk    r|r| Â                     ||Â¦  Â«        }nÃ„|d	k    r!| | j         k    r| Â                     |Â¦  Â«        }nÂ|d
k    r!| | j         k    r| Â 	                    |Â¦  Â«        }nv| j
        r;|Â9|Â7| j         | k    r,| Â 
                    |Â¦  Â«        r| Â                     |||Â¦  Â«        }n3| j
        r,| j
        Â%|j        | j
        k    r| Â                     |Â¦  Â«        } |||Â¦  Â«        S )
zDispatch the requests.Ãš__debugger__ÃšyesÃšcmdrN   ÃšsÃšfrm)rÂ   ÃšresourceÃš pinauthÃšprintpin)r   rÃ    r  râ€¦   rÂ¸   râ€¢   rÃ¸   rÂº   r  r  rÂ¨   rÃ“   rÃ©   rÂ«   rÃ¶   rÃ®   )	r_   râ€   rÃ†   rÃ¡   rÃŸ   r#  ÃšargrÂº   rÃœ   s	            r'   Ãš__call__zDebuggedApplication.__call__  sÂ³  â‚¬ Ãµ Ëœ'Ã‘"Ã”"Ë† Ã˜Ã”)Ë†Ã˜
Å’<Ã—
Ã’
ËœNÃ‘
+Ã”
+Â¨uÃ’
4Ã‘
4Ã˜â€,Ã—"Ã’"Â 5Ã‘)Ã”)Ë†CÃ˜â€,Ã—"Ã’"Â 3Ã‘'Ã”'Ë†CÃ˜â€\Ã—%Ã’%Â cÃ‘*Ã”*Ë†FÃ˜â€Kâ€”Oâ€™OÂ GÂ¤LÃ—$4Ã’$4Â°UÃ…Ã$4Ã‘$EÃ”$EÃ‘FÃ”FË†EÃ˜ÂjÃ’ Ã Â SÃ Ã˜Ã—,Ã’,Â¨WÂ°cÃ‘:Ã”:ÂÂÃ˜Ëœ	Ã’!Ã!Â fÂ°Â´
Ã’&;Ã&;Ã˜Å¸=Å¡=Â¨Ã‘1Ã”1ÂÂÃ˜Ëœ
Ã’"Ã"Â vÂ°Â´Ã’'<Ã'<Ã˜Ã—/Ã’/Â° Ã‘8Ã”8ÂÂÃ â€
Ã° 
EÃ ÂOÃ˜Ã%Ã˜â€KÂ 6Ã’)Ã)Ã˜Ã—(Ã’(Â¨Ã‘1Ã”1Ã° *Ã°  Ã—/Ã’/Â° Â¸Â¸eÃ‘DÃ”DÂÃ¸Ã Å’KÃ°	5Ã Ã”!Ã-Ã˜â€Â Ã” 1Ã’1Ã1Ã Ã—+Ã’+Â¨GÃ‘4Ã”4Ë†HÃ˜Ë†xËœ Â Ã‘0Ã”0Ã0r)   ) FrÂ¦   rÂ§   NFTT)rk   r   rÂ¨   rÂ©   rÂª   r   rÂ«   r   rÂ¬   rÂ­   rÂ®   rÂ©   rÂ¯   rÂ©   rÂ°   rÂ©   r   rÂ±   )r   rÂ½   )rO   r   r   rÂ±   )r   r   )râ€   r   rÃ†   r   r   rÃ‡   )rÃ¡   r   rÃ¢   r   rÃœ   rÃ£   r   r   )rÃ¡   r   r   r   )rÃ¡   r   rM   r   r   r   )râ€   r   r   rÃ¹   )râ€   r   r   rÂ©   )r   rÂ±   )râ€   r   rÃ†   r   r   r  )rf   rg   rh   ri   Ãš__annotations__r`   Ãšpropertyr   ÃšsetterrÃ…   rÃ    rÃ©   rÃ®   rÃ¸   rÃ“   rÃ•   r
  r  r  r*  rj   r)   r'   rÂ£   rÂ£   Ã¥   sÂ¡  â‚¬ â‚¬ â‚¬ â‚¬ â‚¬ â‚¬ Ã°"Ã° "Ã°H â‚¬Iâ‚¬IÂIÃ˜ÃÃÃ‘Ã°
 Ã˜-Ã˜&Ã˜EIÃ˜#(Ã˜!Ã˜ Ã°*Ã° *Ã° *Ã° *Ã° *Ã°X Ã°Ã° Ã° Ã± â€XÃ°Ã° 	â€ZÃ°Ã° Ã° Ã± â€ZÃ°Ã° Ã° Ã°  Ã°  Ã± â€XÃ° Ã°.NÃ° .NÃ° .NÃ° .NÃ°`GÃ° GÃ° GÃ° GÃ°$
Ã° 
Ã° 
Ã° 
Ã°$Ã° Ã° Ã° Ã°"-Ã° -Ã° -Ã° -Ã°,MÃ° MÃ° MÃ° MÃ°.Ã° .Ã° .Ã° .Ã°4Ã° 4Ã° 4Ã° 4Ã°l
Ã° 
Ã° 
Ã° 
Ã°"1Ã° "1Ã° "1Ã° "1Ã° "1Ã° "1r)   rÂ£   )r   r   r   r   rV   )rk   r   r   rl   )>Ãš
__future__r   rÅ’   r#   r  rÆ’   rÃ³   r?   rC   rÃ¾   ÃštypingrË†   râ€˜   Ãš
contextlibr   Ãšior   Ãš	itertoolsr   Ãšmultiprocessingr    Ãš os.pathr   r	   Ãšzlibr
   Ãš	_internalr   Ãš
exceptionsr
   r   Ãšhttpr   Ãšsansio.utilsr   Ãšsecurityr   Ãšutilsr   Ãšwrappers.requestr   Ãšwrappers.responser   r]   r   Ãš tbtoolsr   r   r   Ãš
TYPE_CHECKINGÃš_typeshed.wsgir   r   r   rÃ¿   r(   r+   r+  rW   rY   rÂ¡   rÂ£   rj   r)   r'   Ãº<module>rA     sÃ§  Ã°Ã˜ "Ã "Ã "Ã "Ã "Ã "Ã "Ã  â‚¬â‚¬â‚¬Ã˜ â‚¬â‚¬â‚¬Ã˜ 
â‚¬
â‚¬
â‚¬
Ã˜ 	â‚¬	â‚¬	â‚¬	Ã˜ â‚¬â‚¬â‚¬Ã˜ 	â‚¬	â‚¬	â‚¬	Ã˜ 
â‚¬
â‚¬
â‚¬
Ã˜ 
â‚¬
â‚¬
â‚¬
Ã˜ Ã Ã Ã Ã˜ 
â‚¬
â‚¬
â‚¬
Ã˜  Ã  Ã  Ã  Ã  Ã  Ã˜ Ã Ã Ã Ã Ã Ã˜ Ã Ã Ã Ã Ã Ã˜ !Ã !Ã !Ã !Ã !Ã !Ã˜ Ã Ã Ã Ã Ã Ã˜ Ã Ã Ã Ã Ã Ã˜ Ã Ã Ã Ã Ã Ã  Ã Ã Ã Ã Ã Ã˜ !Ã !Ã !Ã !Ã !Ã !Ã˜ &Ã &Ã &Ã &Ã &Ã &Ã˜ Ã Ã Ã Ã Ã Ã˜ *Ã *Ã *Ã *Ã *Ã *Ã˜ Ã Ã Ã Ã Ã Ã˜ Ã Ã Ã Ã Ã Ã˜ &Ã &Ã &Ã &Ã &Ã &Ã˜ (Ã (Ã (Ã (Ã (Ã (Ã˜ Ã Ã Ã Ã Ã Ã˜ &Ã &Ã &Ã &Ã &Ã &Ã˜ #Ã #Ã #Ã #Ã #Ã #Ã˜ (Ã (Ã (Ã (Ã (Ã (Ã â€?Ã° /Ã˜,Ã,Ã,Ã,Ã,Ã,Ã˜.Ã.Ã.Ã.Ã.Ã.Ã˜.Ã.Ã.Ã.Ã.Ã.Ã° â‚¬Ã°YÃ° YÃ° YÃ° YÃ° #'â‚¬
Ã &Ã &Ã &Ã‘ &Ã°KÃ° KÃ° KÃ° KÃ°\
'Ã° 
'Ã° 
'Ã° 
'Ã° 
'Ã± 
'Ã´ 
'Ã° 
'Ã°TÃ° TÃ° TÃ° TÃ°nP1Ã° P1Ã° P1Ã° P1Ã° P1Ã± P1Ã´ P1Ã° P1Ã° P1Ã° P1r)   
